<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>JS BOM技术 - Mashiro的博客</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Mashiro的博客"><meta name="msapplication-TileImage" content="/img/mashiro1.jpg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Mashiro的博客"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="BOMBOM概述BOM（ Browser Object Model ）浏览器对象模型，它提供了独立于内容而与浏览器窗口进行交互的对象，其核心对象是 window"><meta property="og:type" content="blog"><meta property="og:title" content="JS BOM技术"><meta property="og:url" content="https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/"><meta property="og:site_name" content="Mashiro的博客"><meta property="og:description" content="BOMBOM概述BOM（ Browser Object Model ）浏览器对象模型，它提供了独立于内容而与浏览器窗口进行交互的对象，其核心对象是 window"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://img-blog.csdnimg.cn/5c83bf307ec9486687a5f52312943ecb.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0F1Z2Vuc3Rlcm5fUVhM,size_16,color_FFFFFF,t_70#pic_center"><meta property="og:image" content="https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-04-30_16-26-12.jpg"><meta property="og:image" content="https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-04-30_16-30-12.jpg"><meta property="og:image" content="https://img-blog.csdnimg.cn/d337ebf7ba2c40c7a768fd91f6bfbf56.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0F1Z2Vuc3Rlcm5fUVhM,size_16,color_FFFFFF,t_70#pic_center"><meta property="og:image" content="https://img-blog.csdnimg.cn/eaabe7880146428fb68e6e64f23db40c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0F1Z2Vuc3Rlcm5fUVhM,size_16,color_FFFFFF,t_70#pic_center"><meta property="og:image" content="https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-03_15-52-37.jpg"><meta property="og:image" content="https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-03_16-47-29.jpg"><meta property="og:image" content="https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-10_16-41-16.jpg"><meta property="og:image" content="https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-15_15-46-49.jpg"><meta property="og:image" content="https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-16_16-48-41.jpg"><meta property="og:image" content="https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-19_20-23-26.jpg"><meta property="article:published_time" content="2022-05-19T12:42:44.000Z"><meta property="article:modified_time" content="2022-06-15T15:39:16.542Z"><meta property="article:author" content="Mashiro"><meta property="article:tag" content="JavaScript"><meta property="article:tag" content="前端"><meta property="article:tag" content="笔记"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://img-blog.csdnimg.cn/5c83bf307ec9486687a5f52312943ecb.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0F1Z2Vuc3Rlcm5fUVhM,size_16,color_FFFFFF,t_70#pic_center"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/"},"headline":"JS BOM技术","image":["https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-04-30_16-26-12.jpg","https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-04-30_16-30-12.jpg","https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-03_15-52-37.jpg","https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-03_16-47-29.jpg","https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-10_16-41-16.jpg","https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-15_15-46-49.jpg","https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-16_16-48-41.jpg","https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study/program/picture/Snipaste_2022-05-19_20-23-26.jpg"],"datePublished":"2022-05-19T12:42:44.000Z","dateModified":"2022-06-15T15:39:16.542Z","author":{"@type":"Person","name":"Mashiro"},"publisher":{"@type":"Organization","name":"Mashiro的博客","logo":{"@type":"ImageObject","url":"https://sami-zzz.github.io/img/mashiro1.jpg"}},"description":"BOMBOM概述BOM（ Browser Object Model ）浏览器对象模型，它提供了独立于内容而与浏览器窗口进行交互的对象，其核心对象是 window"}</script><link rel="canonical" href="https://sami-zzz.github.io/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/"><link rel="icon" href="/img/mashiro1.jpg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.15.2/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/mashiro1.jpg" alt="Mashiro的博客" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/archives">文章</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/Sami-zzz/Sami-zzz.github.io"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-05-19T12:42:44.000Z" title="2022/5/19 20:42:44">2022-05-19</time>发表</span><span class="level-item"><time dateTime="2022-06-15T15:39:16.542Z" title="2022/6/15 23:39:16">2022-06-15</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></span><span class="level-item">40 分钟读完 (大约5938个字)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">JS BOM技术</h1><div class="content"><h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><h2 id="BOM概述"><a href="#BOM概述" class="headerlink" title="BOM概述"></a>BOM概述</h2><p>BOM（ Browser Object Model ）浏览器对象模型，它提供了独立于内容而与<strong>浏览器窗口</strong>进行交互的对象，其核心对象是 window</p>
<span id="more"></span>

<h3 id="BOM的构成"><a href="#BOM的构成" class="headerlink" title="BOM的构成"></a>BOM的构成</h3><p><img src="https://img-blog.csdnimg.cn/5c83bf307ec9486687a5f52312943ecb.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0F1Z2Vuc3Rlcm5fUVhM,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<ul>
<li>BOM 比 DOM 更大，它包含 DOM。</li>
<li>window 对象是浏览器的顶级对象，它具有双重角色</li>
<li>它是 JS 访问浏览器窗口的一个接口</li>
<li>它是一个全局对象。定义在全局作用域中的变量、函数都会变成 window 对象的属性和方法</li>
<li>在调用的时候可以省略 window，前面学习的对话框都属于 window 对象方法，如 <code>alert()、prompt()</code>等。</li>
</ul>
<h2 id="window对象的常见事件"><a href="#window对象的常见事件" class="headerlink" title="window对象的常见事件"></a>window对象的常见事件</h2><h3 id="窗口加载事件"><a href="#窗口加载事件" class="headerlink" title="窗口加载事件"></a>窗口加载事件</h3><p><code>window.onload</code>是窗口（页面）加载事件，当文档内容完全加载完成会触发该事件（包括图像，脚本文件，CSS文件等），就调用的处理函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//里面可以写JS代码</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&quot;load&quot;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>有了<code>window.onload</code>就可以把JS代码写到页面元素的上方</li>
<li>因为<code>onload</code>是等页面内容全部加载完毕，再去执行处理函数</li>
<li><code>window.onload</code> 传统注册事件方式，只能写一次，以最后一个为准</li>
</ul>
<ul>
<li>如果使用addEventListener 则没有限制</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">&#x27;DOMContentLoaded&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br></pre></td></tr></table></figure>

<ul>
<li><p>DOMCountentLoaded事件触发时，<strong>仅当DOM加载完成，不包括样式表，图片，flash等等</strong></p>
</li>
<li><p>如果页面的图片很多的话, 从用户访问到onload触发可能需要较长的时间，交互效果就不能实现，必然影响用户的体验，此时用 <code>DOMContentLoaded</code>事件比较合适。</p>
</li>
</ul>
<h3 id="调整窗口大小事件"><a href="#调整窗口大小事件" class="headerlink" title="调整窗口大小事件"></a>调整窗口大小事件</h3><p><code>window.onresize</code> 是调整窗口大小加载事件，当触发时就调用的处理函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onresize = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;resize&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li>只要窗口大小发生像素变化，就会触发这个事件</li>
<li>我们经常利用这个事件完成响应式布局。<code>window.innerWidth</code> 当前屏幕的宽度</li>
</ul>
<h2 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h2><p>window 对象给我们提供了两个定时器</p>
<ul>
<li><code>setTimeout()</code></li>
<li><code>setInterval()</code></li>
</ul>
<h3 id="setTimeout-定时器"><a href="#setTimeout-定时器" class="headerlink" title="setTimeout()定时器"></a>setTimeout()定时器</h3><p><code>setTimeout()</code>方法用于设置一个定时器，该定时器在定时器到期后执行调用函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.setTimeout(调用函数,[延迟的毫秒数]);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>window</code>可以省略</li>
<li>这个调用函数<ul>
<li>可以直接写函数</li>
<li>或者写函数名</li>
<li>或者采取字符串 ‘函数名()’ （不推荐）</li>
</ul>
</li>
<li>延迟的毫秒数省略默认是0，如果写，必须是毫秒</li>
<li>因为定时器可能有很多，所以我们经常给定时器赋值一个标识符</li>
<li><code>setTimeout()</code> 这个调用函数我们也称为<strong>回调函数</strong> callback</li>
<li>普通函数是按照代码顺序直接调用，而这个函数，需要等待事件，事件到了才会去调用这个函数，因此称为回调函数。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">console</span>.log(<span class="string">&#x27;boom!!!&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;, <span class="number">3000</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">console</span>.log(<span class="string">&#x27;boooom!&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> timer1 = <span class="built_in">setTimeout</span>(fn, <span class="number">3000</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> timer2 = <span class="built_in">setTimeout</span>(fn, <span class="number">5000</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="clearTimeout-停止定时器"><a href="#clearTimeout-停止定时器" class="headerlink" title="clearTimeout()停止定时器"></a>clearTimeout()停止定时器</h3><p><code>clearTimeout()</code>方法取消了先前通过调用 <code>setTimeout()</code>建立的定时器</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.clearTimeout(timeoutID)</span><br></pre></td></tr></table></figure>

<ul>
<li><code>window</code>可以省略</li>
<li>里面的参数就是定时器的标识符</li>
</ul>
<h3 id="setInterval-定时器"><a href="#setInterval-定时器" class="headerlink" title="setInterval()定时器"></a>setInterval()定时器</h3><p><code>setInterval()</code>方法重复调用一个函数，每隔这个时间，就去调用一次回调函数</p>
<ul>
<li><p>用法和注意点同setTimeout()</p>
</li>
<li><p>第一次执行也是间隔毫秒数之后执行，之后每隔毫秒数就执行一次</p>
</li>
</ul>
<h3 id="clearInterval-停止定时器"><a href="#clearInterval-停止定时器" class="headerlink" title="clearInterval()停止定时器"></a>clearInterval()停止定时器</h3><ul>
<li><code>clearInterval()</code> 方法取消了先前通过调用 <code>setInterval()</code> 建立的定时器</li>
</ul>
<h3 id="倒计时效果案例"><a href="#倒计时效果案例" class="headerlink" title="倒计时效果案例"></a>倒计时效果案例</h3><p><img src="/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study\program\picture\Snipaste_2022-04-30_16-26-12.jpg" alt="Snipaste_2022-04-30_16-26-12"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;hour&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;minute&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;second&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> hour = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.hour&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> minute = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.minute&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> second = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.second&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> inputTime = +<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&#x27;2022-5-1 18:00:00&#x27;</span>);   <span class="comment">//全局变量，设置倒计时时间</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        countDown();   <span class="comment">//定时器会延迟，所以每次刷新页面先执行一次</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">		<span class="built_in">setInterval</span>(countDown, <span class="number">1000</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="function"><span class="keyword">function</span> <span class="title">countDown</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> nowTime = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> times = (inputTime - nowTime) / <span class="number">1000</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> h = <span class="built_in">parseInt</span>(times / <span class="number">60</span> / <span class="number">60</span> % <span class="number">24</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            h = h &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + h : h;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            hour.innerHTML = h;       <span class="comment">//写入时间</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> m = <span class="built_in">parseInt</span>(times / <span class="number">60</span> % <span class="number">60</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            m = m &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + m : m;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            minute.innerHTML = m;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> s = <span class="built_in">parseInt</span>(times % <span class="number">60</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            s = s &lt; <span class="number">10</span> ? <span class="string">&#x27;0&#x27;</span> + s : s;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            second.innerHTML = s;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="发送短信案例"><a href="#发送短信案例" class="headerlink" title="发送短信案例"></a>发送短信案例</h3><p><img src="/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study\program\picture\Snipaste_2022-04-30_16-30-12.jpg" alt="Snipaste_2022-04-30_16-30-12"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    发送短信: <span class="xml"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span>&gt;</span> <span class="tag">&lt;<span class="name">button</span>&gt;</span>发送<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> time = <span class="number">9</span>;   <span class="comment">//设置剩余时间的全局变量，每次减一</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;    <span class="comment">//点击发送后</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            btn.disabled = <span class="literal">true</span>;      <span class="comment">//禁用按钮</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;    </span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">if</span>(time == <span class="number">0</span>)&#123;    <span class="comment">//减到零</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">clearInterval</span>(timer);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    btn.disabled = <span class="literal">false</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    btn.innerHTML = <span class="string">&#x27;发送&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    time = <span class="number">9</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;<span class="keyword">else</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    btn.innerHTML = <span class="string">&#x27;还剩&#x27;</span>+ time +<span class="string">&#x27;秒可以重新发送&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    time--;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;, <span class="number">1000</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

<h3 id="this指向"><a href="#this指向" class="headerlink" title="this指向"></a>this指向</h3><ul>
<li><code>this</code>的指向在函数定义的时候是确定不了的，只有函数执行的时候才能确定<code>this</code>到底指向谁</li>
</ul>
<p>现阶段，我们先了解一下几个this指向</p>
<ul>
<li>全局作用域或者普通函数中<code>this</code>指向全局对象<code>window</code>(注意<strong>定时器里面的this指向window</strong>)</li>
<li>方法调用中谁调用<code>this</code>指向谁</li>
<li>构造函数中<code>this</code>指向实例对象</li>
</ul>
<h2 id="JS执行机制"><a href="#JS执行机制" class="headerlink" title="JS执行机制"></a>JS执行机制</h2><h3 id="JS是单线程"><a href="#JS是单线程" class="headerlink" title="JS是单线程"></a>JS是单线程</h3><p>JavaScript 语言的一大特点就是单线程，也就是说，同一个时间只能做一件事。这是因为 Javascript 这门脚本语言诞生的使命所致——JavaScript 是为处理页面中用户的交互，以及操作 DOM 而诞生的。比如我们对某个 DOM 元素进行添加和删除操作，不能同时进行。 应该先进行添加，之后再删除。</p>
<ul>
<li>单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。这样所导致的问题是： 如果 JS 执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞的感觉。</li>
</ul>
<h3 id="同步和异步"><a href="#同步和异步" class="headerlink" title="同步和异步"></a>同步和异步</h3><p>为了解决这个问题，利用多核 CPU 的计算能力，HTML5 提出 Web Worker 标准，允许 JavaScript 脚本创建多个线程，于是，JS 中出现了同步和异步</p>
<ul>
<li><p>同步：前一个任务结束后再执行后一个任务</p>
</li>
<li><p>异步：在做这件事的同时，你还可以去处理其他事情</p>
</li>
</ul>
<h4 id="同步任务"><a href="#同步任务" class="headerlink" title="同步任务"></a>同步任务</h4><p>同步任务都在主线程上执行，形成一个 执行栈</p>
<h4 id="异步任务"><a href="#异步任务" class="headerlink" title="异步任务"></a>异步任务</h4><ul>
<li><p>JS中的异步是通过回调函数实现的</p>
</li>
<li><p>异步任务有以下三种类型</p>
<ul>
<li>普通事件，如<code>click</code>,<code>resize</code>等</li>
<li>资源加载，如<code>load</code>,<code>error</code>等</li>
<li>定时器，包括<code>setInterval</code>,<code>setTimeout</code>等</li>
</ul>
</li>
<li><p>异步任务相关回调函数添加到任务队列中</p>
</li>
</ul>
<p><img src="https://img-blog.csdnimg.cn/d337ebf7ba2c40c7a768fd91f6bfbf56.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0F1Z2Vuc3Rlcm5fUVhM,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="执行过程"><a href="#执行过程" class="headerlink" title="执行过程"></a>执行过程</h3><ol>
<li>先执行执行栈中的同步任务</li>
<li>异步任务由异步进程处理放到任务队列(执行时才放入任务队列)</li>
<li>一旦执行栈中的所有同步任务执行完毕，系统就会按次序读取任务队列中的异步任务，于是被读取的异步任务结束等待状态，进入执行栈，开始执行</li>
<li>由于主线程不断的重复获得任务、执行任务、再获取任务、再执行，所以这种机制被称为事件循环（ event loop）</li>
</ol>
<p><img src="https://img-blog.csdnimg.cn/eaabe7880146428fb68e6e64f23db40c.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0F1Z2Vuc3Rlcm5fUVhM,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h2 id="location对象"><a href="#location对象" class="headerlink" title="location对象"></a>location对象</h2><p>window 对象给我们提供了一个 <code>location</code>属性用于获取或者设置窗体的url，并且可以解析url。</p>
<h3 id="url"><a href="#url" class="headerlink" title="url"></a>url</h3><p>统一资源定位符（uniform resouce locator）是互联网上标准资源的地址。互联网上的每个文件都有一个唯一的 URL，它包含的信息指出文件的位置以及浏览器应该怎么处理它。</p>
<p>url 的一般语法格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">protocol://host[:port]/path/[?query]#fragment</span><br><span class="line"></span><br><span class="line">http://www.itcast.cn/index.html?name=andy&amp;age=18#link</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>组成</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>protocol</td>
<td>通信协议 常用的http,ftp,maito等</td>
</tr>
<tr>
<td>host</td>
<td>主机(域名) <a target="_blank" rel="noopener" href="http://www.itheima.com/">www.itheima.com</a></td>
</tr>
<tr>
<td>port</td>
<td>端口号，可选</td>
</tr>
<tr>
<td>path</td>
<td>路径 由零或多个<code>&#39;/&#39;</code>符号隔开的字符串</td>
</tr>
<tr>
<td>query</td>
<td>参数 以键值对的形式，通过<code>&amp;</code>符号分隔开来</td>
</tr>
<tr>
<td>fragment</td>
<td>片段 <code>#</code>后面内容 常见于链接 锚点</td>
</tr>
</tbody></table>
<h3 id="location-对象属性"><a href="#location-对象属性" class="headerlink" title="location 对象属性"></a>location 对象属性</h3><table>
<thead>
<tr>
<th>location对象属性</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td>location.href</td>
<td>获取或者设置整个URL</td>
</tr>
<tr>
<td>location.host</td>
<td>返回主机（域名）<a target="_blank" rel="noopener" href="http://www.baidu.com/">www.baidu.com</a></td>
</tr>
<tr>
<td>location.port</td>
<td>返回端口号，如果未写返回空字符串</td>
</tr>
<tr>
<td>location.pathname</td>
<td>返回路径</td>
</tr>
<tr>
<td>location.search</td>
<td>返回参数</td>
</tr>
<tr>
<td>location.hash</td>
<td>返回片段 #后面内容常见于链接 锚点</td>
</tr>
</tbody></table>
<h3 id="案例：5s后跳转页面"><a href="#案例：5s后跳转页面" class="headerlink" title="案例：5s后跳转页面"></a>案例：5s后跳转页面</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> timer = <span class="number">5</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">if</span> (timer == <span class="number">0</span>) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                location.href = <span class="string">&#x27;http://www.itcast.cn&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                div.innerHTML = <span class="string">&#x27;您将在&#x27;</span> + timer + <span class="string">&#x27;秒钟之后跳转到首页&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                timer--;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;, <span class="number">1000</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="获取URL参数"><a href="#获取URL参数" class="headerlink" title="获取URL参数"></a>获取URL参数</h3><p>实现登录页面login.html到首页index.html的跳转，表单的提交</p>
<p>login.html</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;index.html&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        用户名： <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;uname&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;登录&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br></pre></td></tr></table></figure>

<p>index.html</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(location.search); <span class="comment">// ?uname=andy</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// 1.先去掉？  substr(&#x27;起始的位置&#x27;，截取几个字符);</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> params = location.search.substr(<span class="number">1</span>); <span class="comment">// uname=andy</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(params);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// 2. 利用=把字符串分割为数组 split(&#x27;=&#x27;);</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> arr = params.split(<span class="string">&#x27;=&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">console</span>.log(arr); <span class="comment">// [&quot;uname&quot;, &quot;ANDY&quot;]</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// 3.把数据写入div中</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        div.innerHTML = arr[<span class="number">1</span>] + <span class="string">&#x27;欢迎您&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>







<h3 id="location对象方法"><a href="#location对象方法" class="headerlink" title="location对象方法"></a>location对象方法</h3><table>
<thead>
<tr>
<th>location对象方法</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td>location.assign()</td>
<td>跟href一样，可以跳转页面（也称为重定向页面），可以后退</td>
</tr>
<tr>
<td>location.replace()</td>
<td>替换当前页面，因为不记录历史，所以<strong>不能后退页面</strong></td>
</tr>
<tr>
<td>location.reload()</td>
<td>重新加载页面，相当于刷新按钮或者 f5 ，如果参数为true 强制刷新 ctrl+f5</td>
</tr>
</tbody></table>
<h2 id="navigator对象"><a href="#navigator对象" class="headerlink" title="navigator对象"></a>navigator对象</h2><p>navigator 对象包含有关浏览器的信息，它有很多属性</p>
<p>我们常用的是<code>userAgent</code>,该属性可以返回由客户机发送服务器的<code>user-agent</code>头部的值</p>
<p>下面代码可以判断用户是用哪个终端打开页面的，如果是用 PC 打开的，我们就跳转到 PC 端的页面，如果是用手机打开的，就跳转到手机端页面</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>((navigator.userAgent.match(<span class="regexp">/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i</span>))) &#123;</span><br><span class="line">    <span class="built_in">window</span>.location.href = <span class="string">&quot;&quot;</span>;     <span class="comment">//手机</span></span><br><span class="line"> &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">window</span>.location.href = <span class="string">&quot;&quot;</span>;     <span class="comment">//电脑</span></span><br><span class="line"> &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="history对象"><a href="#history对象" class="headerlink" title="history对象"></a>history对象</h2><p>window 对象给我们提供了一个 history 对象，与浏览器历史记录进行交互</p>
<p>该对象包含用户（在浏览器窗口中）访问过的 URL。</p>
<table>
<thead>
<tr>
<th>history对象方法</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>back()</td>
<td>可以后退功能</td>
</tr>
<tr>
<td>forward()</td>
<td>前进功能</td>
</tr>
<tr>
<td>go(参数)</td>
<td>前进后退功能，参数如果是 1 前进1个页面 如果是 -1 后退1个页面</td>
</tr>
</tbody></table>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;list.html&quot;</span>&gt;</span>点击我去往列表页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>前进<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// history.forward();</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            history.go(<span class="number">1</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="PC端网页特效"><a href="#PC端网页特效" class="headerlink" title="PC端网页特效"></a>PC端网页特效</h2><h3 id="元素偏移量offset"><a href="#元素偏移量offset" class="headerlink" title="元素偏移量offset"></a>元素偏移量offset</h3><h4 id="offset概述"><a href="#offset概述" class="headerlink" title="offset概述"></a>offset概述</h4><p>我们使用offset系列相关属性可以动态地得到该元素的位置（偏移）、大小等</p>
<ul>
<li>获得元素距离带有定位的父元素的偏移量</li>
<li>获得元素自身的大小（宽度高度）</li>
<li>返回的数值都不带单位</li>
</ul>
<table>
<thead>
<tr>
<th>offset系列属性</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>element.offsetParent</td>
<td>返回该元素带有定位的父级元素，如果没有则返回body</td>
</tr>
<tr>
<td>element.offsetTop</td>
<td>返回元素带有定位的父元素上方的偏移，如果没有则返回body的偏移</td>
</tr>
<tr>
<td>element.offsetLeft</td>
<td>返回元素带有定位的父元素左边的偏移，如果没有则返回body的偏移</td>
</tr>
<tr>
<td>element.offsetWidth</td>
<td>返回自身包括padding、边框、内容区的宽度</td>
</tr>
<tr>
<td>element.offsetHeight</td>
<td>返回自身包括padding、边框、内容区的宽度</td>
</tr>
</tbody></table>
<h3 id="offset和style的区别"><a href="#offset和style的区别" class="headerlink" title="offset和style的区别"></a>offset和style的区别</h3><table>
<thead>
<tr>
<th>offset</th>
<th>style</th>
</tr>
</thead>
<tbody><tr>
<td>offset可以得到任意样式表中的样式值</td>
<td>style<strong>只能得到行内样式表</strong>的样式值</td>
</tr>
<tr>
<td>offset系列获得的数值时没有单位的</td>
<td>style.width获得的是带有单位的字符串</td>
</tr>
<tr>
<td>offsetWidth包含padding+border+width</td>
<td>style获得不包含padding和border的值</td>
</tr>
<tr>
<td>offsetWidth等属性是<strong>只读属性</strong>，只能获取不能赋值</td>
<td>style.width是可读写属性，可以获取也可以赋值</td>
</tr>
<tr>
<td>想要<strong>获取元素大小位置，用offset更合适</strong></td>
<td>想要<strong>给元素更改值，则使用style</strong></td>
</tr>
</tbody></table>
<h3 id="拖拽模态框案例"><a href="#拖拽模态框案例" class="headerlink" title="拖拽模态框案例"></a>拖拽模态框案例</h3><p>点击链接，显示登录框和遮罩背景，鼠标在登录框标题位置按下，可以移动登录框</p>
<p><img src="/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study\program\picture\Snipaste_2022-05-03_15-52-37.jpg" alt="Snipaste_2022-05-03_15-52-37"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> login = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.login&#x27;</span>);    <span class="comment">//登录框</span></span><br><span class="line">        <span class="keyword">var</span> mask = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.login-bg&#x27;</span>);  <span class="comment">//背景</span></span><br><span class="line">        <span class="keyword">var</span> link = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#link&#x27;</span>);      <span class="comment">//点击链接</span></span><br><span class="line">        <span class="keyword">var</span> closeBtn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#closeBtn&#x27;</span>);  <span class="comment">//关闭按钮</span></span><br><span class="line">        <span class="keyword">var</span> title = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;#title&#x27;</span>);        <span class="comment">//登录框标题栏</span></span><br><span class="line">        <span class="comment">//点击链接，显示遮罩和登录框</span></span><br><span class="line">        link.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            login.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">            mask.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//点击关闭按钮，去除遮罩和登录框</span></span><br><span class="line">        closeBtn.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            login.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">            mask.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="comment">//点击登录框标题，实现鼠标按下移动效果</span></span><br><span class="line">        title.addEventListener(<span class="string">&#x27;mousedown&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">            <span class="keyword">var</span> x = e.pageX - login.offsetLeft;  <span class="comment">//获得鼠标在距离登录框的偏移量，在按下</span></span><br><span class="line">            <span class="keyword">var</span> y = e.pageY - login.offsetTop;   <span class="comment">//之后这两个值为固定值</span></span><br><span class="line">            <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, move);   <span class="comment">//在整个页面移动</span></span><br><span class="line">            <span class="function"><span class="keyword">function</span> <span class="title">move</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">                login.style.left = e.pageX - x + <span class="string">&#x27;px&#x27;</span>;      <span class="comment">//更改登录框位置</span></span><br><span class="line">                login.style.top = e.pageY - y + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;mouseup&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;   <span class="comment">//在鼠标弹起后移除事件</span></span><br><span class="line">                <span class="built_in">document</span>.removeEventListener(<span class="string">&#x27;mousemove&#x27;</span>, move); </span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="放大镜效果"><a href="#放大镜效果" class="headerlink" title="放大镜效果"></a>放大镜效果</h3><p><img src="/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study\program\picture\Snipaste_2022-05-03_16-47-29.jpg" alt="Snipaste_2022-05-03_16-47-29"></p>
<ul>
<li>页面结构搭建：在小图片盒子里放入一个遮罩盒子，采取定位方式，再在小盒子里放入一个大的图片盒子，在右边显示，也采用定位的方式，在这大图片盒子里放入大图片</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用外部的js文件</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;load&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">var</span> preview_img = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.preview_img&#x27;</span>);  <span class="comment">//小图片盒子</span></span><br><span class="line">    <span class="keyword">var</span> mask = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.mask&#x27;</span>);                <span class="comment">//遮罩</span></span><br><span class="line">    <span class="keyword">var</span> big = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.big&#x27;</span>);                  <span class="comment">//大图片盒子  </span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 1. 当我们鼠标经过 preview_img 就显示和隐藏 mask 遮挡层 和 big 大盒子</span></span><br><span class="line">    preview_img.addEventListener(<span class="string">&#x27;mouseover&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        mask.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">        big.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    preview_img.addEventListener(<span class="string">&#x27;mouseout&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        mask.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        big.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 2. 鼠标移动的时候，让黄色的盒子跟着鼠标来走</span></span><br><span class="line">    preview_img.addEventListener(<span class="string">&#x27;mousemove&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// (1). 先计算出鼠标在盒子内的坐标</span></span><br><span class="line">        <span class="keyword">var</span> x = e.pageX - <span class="built_in">this</span>.offsetLeft;</span><br><span class="line">        <span class="keyword">var</span> y = e.pageY - <span class="built_in">this</span>.offsetTop;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// (2) 减去盒子高度 300的一半 是 150 就是我们mask 的最终 left 和top值了</span></span><br><span class="line">        <span class="comment">// (3) 我们mask 移动的距离</span></span><br><span class="line">        <span class="keyword">var</span> maskX = x - mask.offsetWidth / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">var</span> maskY = y - mask.offsetHeight / <span class="number">2</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// (4) 如果x 坐标小于了0 就让他停在0 的位置</span></span><br><span class="line">        <span class="comment">// 遮挡层的最大移动距离</span></span><br><span class="line">        <span class="keyword">var</span> maskMax = preview_img.offsetWidth - mask.offsetWidth;</span><br><span class="line">        <span class="keyword">if</span> (maskX &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            maskX = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (maskX &gt;= maskMax) &#123;</span><br><span class="line">            maskX = maskMax;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (maskY &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            maskY = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (maskY &gt;= maskMax) &#123;</span><br><span class="line">            maskY = maskMax;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        mask.style.left = maskX + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        mask.style.top = maskY + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 3. 遮罩层的移动和大图片的移动成比例：</span></span><br><span class="line">        <span class="comment">// 大图片的移动距离 = 遮挡层移动距离 * 大图片最大移动距离 / 遮挡层的最大移动距离</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> bigIMg = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.bigImg&#x27;</span>);   <span class="comment">//大图片</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 大图片最大移动距离</span></span><br><span class="line">        <span class="keyword">var</span> bigMax = bigIMg.offsetWidth - big.offsetWidth;</span><br><span class="line">        <span class="comment">// 大图片的移动距离 X Y</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">var</span> bigX = maskX * bigMax / maskMax;</span><br><span class="line">        <span class="keyword">var</span> bigY = maskY * bigMax / maskMax;</span><br><span class="line">        </span><br><span class="line">        bigIMg.style.left = -bigX + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        bigIMg.style.top = -bigY + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="client系列"><a href="#client系列" class="headerlink" title="client系列"></a>client系列</h3><p>使用client系列相关属性可以获取元素可视区的相关信息，动态得到该元素的边框大小，元素大小</p>
<table>
<thead>
<tr>
<th>client系列属性</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>element.clientTop</td>
<td>返回元素上边框的大小</td>
</tr>
<tr>
<td>element.clientLeft</td>
<td>返回元素左边框的大小</td>
</tr>
<tr>
<td>element.clientWidth</td>
<td>返回自身包括padding，内容区的宽度，不含边框，返回数值不带单位</td>
</tr>
<tr>
<td>element.clientHeight</td>
<td>返回自身包括padding，内容区的高度，不含边框，返回数值不带单位</td>
</tr>
</tbody></table>
<h3 id="scroll系列"><a href="#scroll系列" class="headerlink" title="scroll系列"></a>scroll系列</h3><p>使用scroll系列的相关属性可以动态的得到该元素的大小，滚动距离</p>
<table>
<thead>
<tr>
<th>scroll系列属性</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>element.scrollTop</td>
<td>返回被卷去的上侧距离，返回数值不带单位</td>
</tr>
<tr>
<td>element.scrollLeft</td>
<td>返回被卷去的左侧距离，返回数值不带单位</td>
</tr>
<tr>
<td>element.scrollWidth</td>
<td>返回自身内容实际的宽度，不含边框，返回数值不带单位</td>
</tr>
<tr>
<td>element.scrollHeight</td>
<td>返回自身内容实际的高度，不含边框，返回数值不带单位</td>
</tr>
</tbody></table>
<h3 id="固定侧边栏案例"><a href="#固定侧边栏案例" class="headerlink" title="固定侧边栏案例"></a>固定侧边栏案例</h3><p><img src="/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study\program\picture\Snipaste_2022-05-10_16-41-16.jpg" alt="Snipaste_2022-05-10_16-41-16"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;slider-bar&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;goBack&quot;</span>&gt;</span>返回顶部<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;header w&quot;</span>&gt;</span>头部区域<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;banner w&quot;</span>&gt;</span>banner区域<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main w&quot;</span>&gt;</span>主体部分<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">//1. 获取元素</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> sliderbar = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.slider-bar&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> banner = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.banner&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// banner.offestTop 就是被卷去头部的大小 一定要写到滚动的外面</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> bannerTop = banner.offsetTop</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// 当我们侧边栏固定定位之后应该变化的数值</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> sliderbarTop = sliderbar.offsetTop - bannerTop;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">     </span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> main = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.main&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> goBack = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.goBack&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> mainTop = main.offsetTop;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="comment">// 2. 页面滚动事件 scroll</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">document</span>.addEventListener(<span class="string">&#x27;scroll&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">  </span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// 3 .当我们页面被卷去的头部大于等于了 172 此时 侧边栏就要改为固定定位</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">if</span> (<span class="built_in">window</span>.pageYOffset &gt;= bannerTop) &#123;    <span class="comment">//获取页面滚动大小</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                sliderbar.style.position = <span class="string">&#x27;fixed&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                sliderbar.style.top = sliderbarTop + <span class="string">&#x27;px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                sliderbar.style.position = <span class="string">&#x27;absolute&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                sliderbar.style.top = <span class="string">&#x27;300px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">// 4. 当我们页面滚动到main盒子，就显示 goback模块</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">if</span> (<span class="built_in">window</span>.pageYOffset &gt;= mainTop) &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                goBack.style.display = <span class="string">&#x27;block&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125; <span class="keyword">else</span> &#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                goBack.style.display = <span class="string">&#x27;none&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>



<h3 id="三大系列总结"><a href="#三大系列总结" class="headerlink" title="三大系列总结"></a>三大系列总结</h3><table>
<thead>
<tr>
<th>三大系列大小对比</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>element.offsetWidth</td>
<td>返回自身包括padding，边框，内容区的宽度</td>
</tr>
<tr>
<td>element.clientWidth</td>
<td>返回自身包括padding，内容区的宽度，不包含边框</td>
</tr>
<tr>
<td>element.scrollWidth</td>
<td>返回自身实际的宽度，不包含边框</td>
</tr>
</tbody></table>
<h4 id="主要用法"><a href="#主要用法" class="headerlink" title="主要用法"></a>主要用法</h4><ul>
<li><p>offset系列常用于获取元素位置：<code>offsetLeft offsetTop</code></p>
</li>
<li><p>client系列常用于获取元素大小： <code>clientWidth clientHeight</code></p>
</li>
<li><p>scroll系列常用于获取元素滚动距离： <code>scrollTop scrollLeft</code></p>
</li>
<li><p>获取页面滚动距离通过：<code>window.pageXOffset window.pageYOffset</code></p>
</li>
</ul>
<h3 id="mouseenter和mouseover的区别"><a href="#mouseenter和mouseover的区别" class="headerlink" title="mouseenter和mouseover的区别"></a>mouseenter和mouseover的区别</h3><p>当鼠标移动到元素上时就会触发mouseenter事件，类似mouseover，两者的差别是</p>
<ul>
<li><p>mouseover鼠标经过自身盒子会触发，经过子盒子还会触发，mouseenter只会经过自身盒子时触发，因为mouseenter不会冒泡</p>
</li>
<li><p>与mouseenter搭配鼠标离开mouseleave同样不会冒泡</p>
</li>
</ul>
<h3 id="动画原理"><a href="#动画原理" class="headerlink" title="动画原理"></a>动画原理</h3><p>核心原理：通过定时器setInterval()不断移动盒子位置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">        <span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="keyword">if</span>(div.offsetLeft &gt;= <span class="number">300</span>)&#123;</span><br><span class="line">                <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">            &#125;</span><br><span class="line">            div.style.left = div.offsetLeft + <span class="number">1</span> + <span class="string">&#x27;px&#x27;</span>;    <span class="comment">//获取当前位置并加上1个移动距离</span></span><br><span class="line">        &#125;, <span class="number">30</span>)</span><br><span class="line">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>

<h3 id="简单的动画函数封装"><a href="#简单的动画函数封装" class="headerlink" title="简单的动画函数封装"></a>简单的动画函数封装</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">button</span>&gt;</span>点击purple<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> div = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;div&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> span = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;span&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;button&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target</span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">//先清除，避免连续点击按钮触发多个定时器</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">clearInterval</span>(obj.timer);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="comment">//给每个对象的属性添加</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">if</span>(obj.offsetLeft &gt; target)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">clearInterval</span>(obj.timer);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                obj.style.left = obj.offsetLeft + <span class="number">1</span> + <span class="string">&#x27;px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;, <span class="number">30</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        btn.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            animate(span, <span class="number">200</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        animate(div, <span class="number">300</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="缓动动画的实现"><a href="#缓动动画的实现" class="headerlink" title="缓动动画的实现"></a>缓动动画的实现</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn500&quot;</span>&gt;</span>点击到500<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;btn900&quot;</span>&gt;</span>点击到900<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> span = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;span&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> btn500 = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn500&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> btn900 = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.btn900&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target, callback</span>)</span>&#123;   <span class="comment">//回调函数callback</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="built_in">clearInterval</span>(obj.timer);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="comment">//缓动动画步长</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">var</span> step = (target - obj.offsetLeft) / <span class="number">10</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="comment">//根据正负值不同取整，能够在多个目标间移动</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                <span class="keyword">if</span>(obj.offsetLeft == target)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="built_in">clearInterval</span>(obj.timer);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="comment">//定时器结束时调用回调函数</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    <span class="keyword">if</span>(callback)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                        callback();</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                obj.style.left = obj.offsetLeft + step + <span class="string">&#x27;px&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;, <span class="number">15</span>)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        btn500.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            animate(span, <span class="number">500</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;       <span class="comment">//传入回调函数</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">                span.style.backgroundColor = <span class="string">&#x27;skyblue&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        btn900.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            animate(span, <span class="number">900</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="滑动条案例"><a href="#滑动条案例" class="headerlink" title="滑动条案例"></a>滑动条案例</h3><p><img src="/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study\program\picture\Snipaste_2022-05-15_15-46-49.jpg" alt="Snipaste_2022-05-15_15-46-49"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//引入animate.js的缓动动画函数</span></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;sliderbar&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>←<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;con&quot;</span>&gt;</span>问题反馈<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> sliderbar = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.sliderbar&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="keyword">var</span> con = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.con&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        sliderbar.addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            animate(con, -<span class="number">160</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                sliderbar.children[<span class="number">0</span>].innerHTML = <span class="string">&#x27;→&#x27;</span>;  <span class="comment">//h</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        sliderbar.addEventListener(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            animate(con, <span class="number">0</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                sliderbar.children[<span class="number">0</span>].innerHTML = <span class="string">&#x27;←&#x27;</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h3 id="轮播图案例"><a href="#轮播图案例" class="headerlink" title="轮播图案例"></a>轮播图案例</h3><p><img src="/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study\program\picture\Snipaste_2022-05-16_16-48-41.jpg" alt="Snipaste_2022-05-16_16-48-41"></p>
<h4 id="结构搭建"><a href="#结构搭建" class="headerlink" title="结构搭建"></a>结构搭建</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;div class=&quot;focus fl&quot;&gt;</span><br><span class="line">        &lt;!-- 左侧按钮 --&gt;</span><br><span class="line">        &lt;a href=&quot;javascript:;&quot; class=&quot;arrow-l&quot;&gt;</span><br><span class="line">            &amp;lt;</span><br><span class="line">         &lt;/a&gt;</span><br><span class="line">        &lt;!-- 右侧按钮 --&gt;</span><br><span class="line">        &lt;a href=&quot;javascript:;&quot; class=&quot;arrow-r&quot;&gt; </span><br><span class="line">            &amp;gt;</span><br><span class="line">        &lt;/a&gt;</span><br><span class="line">        &lt;!-- 核心的滚动区域 --&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li&gt;</span><br><span class="line">                &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;upload/focus.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">            &lt;li&gt;</span><br><span class="line">                &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;upload/focus1.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">            &lt;li&gt;</span><br><span class="line">                &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;upload/focus2.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">            &lt;li&gt;</span><br><span class="line">                &lt;a href=&quot;#&quot;&gt;&lt;img src=&quot;upload/focus3.jpg&quot; alt=&quot;&quot;&gt;&lt;/a&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">        &lt;!-- 小圆圈 --&gt;</span><br><span class="line">        &lt;ol class=&quot;circle&quot;&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;/ol&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>

<h4 id="功能需求"><a href="#功能需求" class="headerlink" title="功能需求"></a>功能需求</h4><ol>
<li>当鼠标经过轮播图时，左右按钮显示，离开时隐藏</li>
<li>点击小圆圈可以播放对应的图片</li>
<li>点击右侧按钮，图片向左播放一张，左侧按钮同理</li>
<li>图片播放的同时，小圆圈模块跟随一起变化</li>
<li>鼠标不经过轮播图，会自动播放图片，鼠标经过时，播放停止</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在页面加载完之后</span></span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&#x27;load&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//1.当鼠标经过轮播图时显示左右两个按钮</span></span><br><span class="line">    <span class="comment">//获得左右按钮和轮播图模块</span></span><br><span class="line">    <span class="keyword">var</span> arrow_l = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.arrow-l&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> arrow_r = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.arrow-r&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> focus = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.focus&#x27;</span>);</span><br><span class="line">    </span><br><span class="line">    focus.addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        arrow_l.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">        arrow_r.style.display = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">        <span class="comment">//鼠标离开，停止播放</span></span><br><span class="line">        <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        timer = <span class="literal">null</span>;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    focus.addEventListener(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        arrow_l.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        arrow_r.style.display = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        <span class="comment">//鼠标进入，开始播放</span></span><br><span class="line">        timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            arrow_r.click();</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">        </span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.根据图片个数动态生成小圆圈个数，点击每个圆圈，图片发生滚动</span></span><br><span class="line">    <span class="keyword">var</span> ul = focus.querySelector(<span class="string">&#x27;ul&#x27;</span>);</span><br><span class="line">    <span class="keyword">var</span> ol = focus.querySelector(<span class="string">&#x27;.circle&#x27;</span>)</span><br><span class="line">    <span class="comment">//获取轮播图大小</span></span><br><span class="line">    <span class="keyword">var</span> focusWidth = focus.offsetWidth;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ul.children.length ; i++)&#123;</span><br><span class="line">        <span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">&#x27;li&#x27;</span>);</span><br><span class="line">        <span class="comment">//为每个圆圈设置索引</span></span><br><span class="line">        li.setAttribute(<span class="string">&#x27;index&#x27;</span>, i);</span><br><span class="line">        <span class="comment">//为每个小圆圈添加事件</span></span><br><span class="line">        li.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="comment">//选中圆圈改变颜色，排他思想</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ol.children.length ; i++)&#123;</span><br><span class="line">                ol.children[i].className = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">this</span>.className = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">            <span class="comment">//通过获得索引来控制图片移动距离</span></span><br><span class="line">            <span class="keyword">var</span> index = <span class="built_in">this</span>.getAttribute(<span class="string">&#x27;index&#x27;</span>);</span><br><span class="line">            <span class="comment">//同时需要更改这两个值保证左右按钮的移动和点击圆圈的移动的统一</span></span><br><span class="line">            num = index;</span><br><span class="line">            circle = index;</span><br><span class="line">            <span class="comment">//调用缓动动画函数实现图片的移动</span></span><br><span class="line">            animate(ul, -index * focusWidth);</span><br><span class="line">        &#125;)</span><br><span class="line">        ol.appendChild(li);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    ol.children[<span class="number">0</span>].className = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">    <span class="comment">//3.实现点击右侧按钮滚动图片，无缝滚动原理：在图片最后多复制一个第一张图片，在移动这一张图片时快速跳转到第一张，再滚动</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//通过js克隆图片</span></span><br><span class="line">    <span class="keyword">var</span> first = ul.children[<span class="number">0</span>].cloneNode(<span class="literal">true</span>);</span><br><span class="line">    ul.appendChild(first);</span><br><span class="line">    <span class="comment">//设置变量记录移动次数</span></span><br><span class="line">    <span class="keyword">var</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">var</span> circle = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//右侧按钮点击事件</span></span><br><span class="line">    arrow_r.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//达到最后一张图片时，并点击</span></span><br><span class="line">        <span class="keyword">if</span>(num == ul.children.length - <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">//跳转为第一张再滚动</span></span><br><span class="line">            ul.style.left = <span class="number">0</span>;</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        num++;</span><br><span class="line">        <span class="comment">//滚动</span></span><br><span class="line">        animate(ul, -num * focusWidth);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.实现点击右侧按钮，小圆圈同时改变</span></span><br><span class="line">        circle++;</span><br><span class="line">        <span class="keyword">if</span>(circle == ol.children.length)&#123;</span><br><span class="line">            circle = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//封装的小圆圈改变函数</span></span><br><span class="line">        circleChange();</span><br><span class="line">    &#125;)</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//左侧按钮实现，同右侧</span></span><br><span class="line">    arrow_l.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//达到第一张图片时，点击</span></span><br><span class="line">        <span class="keyword">if</span>(num == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">//回到最后一张再滚动</span></span><br><span class="line">            num = ul.children.length - <span class="number">1</span>;</span><br><span class="line">            ul.style.left = -num * focusWidth + <span class="string">&#x27;px&#x27;</span>;            </span><br><span class="line">        &#125;</span><br><span class="line">        num--;</span><br><span class="line">        animate(ul, -num * focusWidth);</span><br><span class="line"></span><br><span class="line">        circle--;</span><br><span class="line">        <span class="keyword">if</span>(circle &lt; <span class="number">0</span>)&#123;</span><br><span class="line">            circle = ol.children.length - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        circleChange();</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">//封装的改变小圆圈的函数</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">circleChange</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; ol.children.length; i++)&#123;</span><br><span class="line">            ol.children[i].className = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        ol.children[circle].className = <span class="string">&#x27;current&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//5.自动播放图片定时器，图片的移动方法同点击右侧按钮</span></span><br><span class="line">    <span class="keyword">var</span> timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//手动触发dia</span></span><br><span class="line">        arrow_r.click();</span><br><span class="line">    &#125;, <span class="number">2000</span>);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<h3 id="节流阀"><a href="#节流阀" class="headerlink" title="节流阀"></a>节流阀</h3><p>用来防止轮播图按钮连续点击造成播放过快，当上一个函数动画内容执行完毕，再去执行下一个动画函数，让事件无法连续点击</p>
<p>核心思路：利用回调函数，添加一个变量来控制</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> flag = <span class="literal">true</span>; </span><br><span class="line">arrow_r.addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">     <span class="keyword">if</span>(flag)&#123;</span><br><span class="line">         flag = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(num == ul.children.length - <span class="number">1</span>)&#123;</span><br><span class="line">            ul.style.left = <span class="number">0</span>;</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        num++;</span><br><span class="line">        animate(ul, -num * focusWidth, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="literal">false</span> = <span class="literal">true</span>;  <span class="comment">//设置回调函数</span></span><br><span class="line">		&#125;);</span><br><span class="line">        circle++;</span><br><span class="line">        <span class="keyword">if</span>(circle == ol.children.length)&#123;</span><br><span class="line">            circle = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        circleChange();</span><br><span class="line">	&#125;</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>

<h3 id="带有动画的返回顶部案例"><a href="#带有动画的返回顶部案例" class="headerlink" title="带有动画的返回顶部案例"></a>带有动画的返回顶部案例</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">goBack.addEventListener(<span class="string">&#x27;click&#x27;</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           animate(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">       &#125;)</span><br><span class="line">       <span class="comment">//修改缓动动画函数</span></span><br><span class="line">       <span class="function"><span class="keyword">function</span> <span class="title">animate</span>(<span class="params">obj, target, callback</span>)</span>&#123;</span><br><span class="line">           <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">           obj.timer = <span class="built_in">setInterval</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">           <span class="comment">//页面向上移动</span></span><br><span class="line">           <span class="keyword">var</span> step = (target - <span class="built_in">window</span>.pageYOffset) / <span class="number">10</span>;</span><br><span class="line">           step = step &gt; <span class="number">0</span> ? <span class="built_in">Math</span>.ceil(step) : <span class="built_in">Math</span>.floor(step);</span><br><span class="line">           <span class="keyword">if</span>(<span class="built_in">window</span>.pageYOffset == target)&#123;</span><br><span class="line">               <span class="built_in">clearInterval</span>(obj.timer);</span><br><span class="line">               <span class="keyword">if</span>(callback)&#123;</span><br><span class="line">                   callback();</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="built_in">window</span>.scroll(<span class="number">0</span>, <span class="built_in">window</span>.pageYOffset + step)</span><br><span class="line">       </span><br><span class="line">   &#125;, <span class="number">15</span>)</span><br></pre></td></tr></table></figure>

<h3 id="筋斗云案例"><a href="#筋斗云案例" class="headerlink" title="筋斗云案例"></a>筋斗云案例</h3><p><img src="/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/study\program\picture\Snipaste_2022-05-19_20-23-26.jpg" alt="Snipaste_2022-05-19_20-23-26"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;animate.js&quot;</span>&gt;&lt;/script&gt;</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span></span><br><span class="line"><span class="javascript"><span class="xml">        <span class="built_in">window</span>.addEventListener(<span class="string">&#x27;load&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> cloud = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.cloud&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> c_nav = <span class="built_in">document</span>.querySelector(<span class="string">&#x27;.c-nav&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> lis = c_nav.querySelectorAll(<span class="string">&#x27;li&#x27;</span>);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">			<span class="comment">//记录点击后的位置</span></span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">var</span> current = <span class="number">0</span>;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; lis.length; i++)&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                lis[i].addEventListener(<span class="string">&#x27;mouseenter&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    animate(cloud, <span class="built_in">this</span>.offsetLeft);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                lis[i].addEventListener(<span class="string">&#x27;mouseleave&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    animate(cloud, current);</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                lis[i].addEventListener(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                    current = <span class="built_in">this</span>.offsetLeft;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">                &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">            &#125;</span></span></span><br><span class="line"><span class="javascript"><span class="xml">        &#125;)</span></span></span><br><span class="line"><span class="javascript"><span class="xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure>

</div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/JavaScript/">JavaScript</a><a class="link-muted mr-2" rel="tag" href="/tags/%E5%89%8D%E7%AB%AF/">前端</a><a class="link-muted mr-2" rel="tag" href="/tags/%E7%AC%94%E8%AE%B0/">笔记</a></div><!--!--></article></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022/06/25/JS-%E9%AB%98%E7%BA%A7/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">JS 高级</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/04/30/JS-DOM%E6%8A%80%E6%9C%AF/"><span class="level-item">JS DOM技术</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/mashiro.jpg" alt="Mashiro"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Mashiro</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>四川  成都</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">16</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/sami-zzz" target="_blank" rel="noopener">关注我</a></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-05-18T05:49:11.000Z">2023-05-18</time></p><p class="title"><a href="/2023/05/18/element-plus%E5%BC%95%E5%85%A5%E5%9C%A8TypeScript5-0%E4%B8%8B%E7%9A%84%E6%8A%A5%E9%94%99/">element-plus引入在TypeScript5.0下的报错</a></p><p class="categories"><a href="/categories/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/">项目实践</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2023-05-03T06:56:37.000Z">2023-05-03</time></p><p class="title"><a href="/2023/05/03/%E4%BC%98%E9%9B%85%E5%9C%B0%E5%B0%81%E8%A3%85Axios%E5%BA%93/">优雅地封装Axios库</a></p><p class="categories"><a href="/categories/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/">项目实践</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-10-09T09:21:31.000Z">2022-10-09</time></p><p class="title"><a href="/2022/10/09/ES6%E7%AC%94%E8%AE%B0/">ES6笔记</a></p><p class="categories"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-06-25T08:39:15.000Z">2022-06-25</time></p><p class="title"><a href="/2022/06/25/JS-%E9%AB%98%E7%BA%A7/">JS 高级</a></p><p class="categories"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-19T12:42:44.000Z">2022-05-19</time></p><p class="title"><a href="/2022/05/19/JS-BOM%E6%8A%80%E6%9C%AF/">JS BOM技术</a></p><p class="categories"><a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a></p></div></article></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#BOM"><span class="level-left"><span class="level-item">1</span><span class="level-item">BOM</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#BOM概述"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">BOM概述</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#BOM的构成"><span class="level-left"><span class="level-item">1.1.1</span><span class="level-item">BOM的构成</span></span></a></li></ul></li><li><a class="level is-mobile" href="#window对象的常见事件"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">window对象的常见事件</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#窗口加载事件"><span class="level-left"><span class="level-item">1.2.1</span><span class="level-item">窗口加载事件</span></span></a></li><li><a class="level is-mobile" href="#调整窗口大小事件"><span class="level-left"><span class="level-item">1.2.2</span><span class="level-item">调整窗口大小事件</span></span></a></li></ul></li><li><a class="level is-mobile" href="#定时器"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">定时器</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#setTimeout-定时器"><span class="level-left"><span class="level-item">1.3.1</span><span class="level-item">setTimeout()定时器</span></span></a></li><li><a class="level is-mobile" href="#clearTimeout-停止定时器"><span class="level-left"><span class="level-item">1.3.2</span><span class="level-item">clearTimeout()停止定时器</span></span></a></li><li><a class="level is-mobile" href="#setInterval-定时器"><span class="level-left"><span class="level-item">1.3.3</span><span class="level-item">setInterval()定时器</span></span></a></li><li><a class="level is-mobile" href="#clearInterval-停止定时器"><span class="level-left"><span class="level-item">1.3.4</span><span class="level-item">clearInterval()停止定时器</span></span></a></li><li><a class="level is-mobile" href="#倒计时效果案例"><span class="level-left"><span class="level-item">1.3.5</span><span class="level-item">倒计时效果案例</span></span></a></li><li><a class="level is-mobile" href="#发送短信案例"><span class="level-left"><span class="level-item">1.3.6</span><span class="level-item">发送短信案例</span></span></a></li><li><a class="level is-mobile" href="#this指向"><span class="level-left"><span class="level-item">1.3.7</span><span class="level-item">this指向</span></span></a></li></ul></li><li><a class="level is-mobile" href="#JS执行机制"><span class="level-left"><span class="level-item">1.4</span><span class="level-item">JS执行机制</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#JS是单线程"><span class="level-left"><span class="level-item">1.4.1</span><span class="level-item">JS是单线程</span></span></a></li><li><a class="level is-mobile" href="#同步和异步"><span class="level-left"><span class="level-item">1.4.2</span><span class="level-item">同步和异步</span></span></a></li><li><a class="level is-mobile" href="#执行过程"><span class="level-left"><span class="level-item">1.4.3</span><span class="level-item">执行过程</span></span></a></li></ul></li><li><a class="level is-mobile" href="#location对象"><span class="level-left"><span class="level-item">1.5</span><span class="level-item">location对象</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#url"><span class="level-left"><span class="level-item">1.5.1</span><span class="level-item">url</span></span></a></li><li><a class="level is-mobile" href="#location-对象属性"><span class="level-left"><span class="level-item">1.5.2</span><span class="level-item">location 对象属性</span></span></a></li><li><a class="level is-mobile" href="#案例：5s后跳转页面"><span class="level-left"><span class="level-item">1.5.3</span><span class="level-item">案例：5s后跳转页面</span></span></a></li><li><a class="level is-mobile" href="#获取URL参数"><span class="level-left"><span class="level-item">1.5.4</span><span class="level-item">获取URL参数</span></span></a></li><li><a class="level is-mobile" href="#location对象方法"><span class="level-left"><span class="level-item">1.5.5</span><span class="level-item">location对象方法</span></span></a></li></ul></li><li><a class="level is-mobile" href="#navigator对象"><span class="level-left"><span class="level-item">1.6</span><span class="level-item">navigator对象</span></span></a></li><li><a class="level is-mobile" href="#history对象"><span class="level-left"><span class="level-item">1.7</span><span class="level-item">history对象</span></span></a></li><li><a class="level is-mobile" href="#PC端网页特效"><span class="level-left"><span class="level-item">1.8</span><span class="level-item">PC端网页特效</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#元素偏移量offset"><span class="level-left"><span class="level-item">1.8.1</span><span class="level-item">元素偏移量offset</span></span></a></li><li><a class="level is-mobile" href="#offset和style的区别"><span class="level-left"><span class="level-item">1.8.2</span><span class="level-item">offset和style的区别</span></span></a></li><li><a class="level is-mobile" href="#拖拽模态框案例"><span class="level-left"><span class="level-item">1.8.3</span><span class="level-item">拖拽模态框案例</span></span></a></li><li><a class="level is-mobile" href="#放大镜效果"><span class="level-left"><span class="level-item">1.8.4</span><span class="level-item">放大镜效果</span></span></a></li><li><a class="level is-mobile" href="#client系列"><span class="level-left"><span class="level-item">1.8.5</span><span class="level-item">client系列</span></span></a></li><li><a class="level is-mobile" href="#scroll系列"><span class="level-left"><span class="level-item">1.8.6</span><span class="level-item">scroll系列</span></span></a></li><li><a class="level is-mobile" href="#固定侧边栏案例"><span class="level-left"><span class="level-item">1.8.7</span><span class="level-item">固定侧边栏案例</span></span></a></li><li><a class="level is-mobile" href="#三大系列总结"><span class="level-left"><span class="level-item">1.8.8</span><span class="level-item">三大系列总结</span></span></a></li><li><a class="level is-mobile" href="#mouseenter和mouseover的区别"><span class="level-left"><span class="level-item">1.8.9</span><span class="level-item">mouseenter和mouseover的区别</span></span></a></li><li><a class="level is-mobile" href="#动画原理"><span class="level-left"><span class="level-item">1.8.10</span><span class="level-item">动画原理</span></span></a></li><li><a class="level is-mobile" href="#简单的动画函数封装"><span class="level-left"><span class="level-item">1.8.11</span><span class="level-item">简单的动画函数封装</span></span></a></li><li><a class="level is-mobile" href="#缓动动画的实现"><span class="level-left"><span class="level-item">1.8.12</span><span class="level-item">缓动动画的实现</span></span></a></li><li><a class="level is-mobile" href="#滑动条案例"><span class="level-left"><span class="level-item">1.8.13</span><span class="level-item">滑动条案例</span></span></a></li><li><a class="level is-mobile" href="#轮播图案例"><span class="level-left"><span class="level-item">1.8.14</span><span class="level-item">轮播图案例</span></span></a></li><li><a class="level is-mobile" href="#节流阀"><span class="level-left"><span class="level-item">1.8.15</span><span class="level-item">节流阀</span></span></a></li><li><a class="level is-mobile" href="#带有动画的返回顶部案例"><span class="level-left"><span class="level-item">1.8.16</span><span class="level-item">带有动画的返回顶部案例</span></span></a></li><li><a class="level is-mobile" href="#筋斗云案例"><span class="level-left"><span class="level-item">1.8.17</span><span class="level-item">筋斗云案例</span></span></a></li></ul></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/LeetCode/"><span class="level-start"><span class="level-item">LeetCode</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"><span class="level-start"><span class="level-item">学习笔记</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/"><span class="level-start"><span class="level-item">数据结构与算法</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/%E9%A1%B9%E7%9B%AE%E5%AE%9E%E8%B7%B5/"><span class="level-start"><span class="level-item">项目实践</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/AI%E7%AE%97%E6%B3%95/"><span class="tag">AI算法</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C++</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C%E8%AF%AD%E8%A8%80/"><span class="tag">C语言</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Typescript/"><span class="tag">Typescript</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/axios/"><span class="tag">axios</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/vue3/"><span class="tag">vue3</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E4%BA%8C%E5%88%86/"><span class="tag">二分</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%88%B7%E9%A2%98/"><span class="tag">刷题</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%89%8D%E7%AB%AF/"><span class="tag">前端</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"><span class="tag">双指针</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%95%B0%E7%BB%84/"><span class="tag">数组</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AC%94%E8%AE%B0/"><span class="tag">笔记</span><span class="tag">5</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E7%AE%97%E6%B3%95/"><span class="tag">算法</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%93%BE%E8%A1%A8/"><span class="tag">链表</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%A1%B9%E7%9B%AE/"><span class="tag">项目</span><span class="tag">2</span></a></div></div></div></div></div><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">链接</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://github.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">GitHub</span></span><span class="level-right"><span class="level-item tag">github.com</span></span></a></li><li><a class="level is-mobile" href="https://zhihu.com" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">知乎</span></span><span class="level-right"><span class="level-item tag">zhihu.com</span></span></a></li><li><a class="level is-mobile" href="https://juejin.cn" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">掘金</span></span><span class="level-right"><span class="level-item tag">juejin.cn</span></span></a></li></ul></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/mashiro1.jpg" alt="Mashiro的博客" height="28"></a><p class="is-size-7"><span>&copy; 2023 Mashiro</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>